---
title: 设计模式_C++
date: 2022-12-14 18:04:52
tags:
---


这篇博客用来总结设计模式
<!-- more -->

# 设计模式七大原则
不论是什么设计模式，都会遵循七个基本原则，他们分别为：
1. 开闭原则 (Open-Closed Principle)
2. 单一职责原则 (Single Responsibility Principle)
3. 里氏替换原则 (Liskov Substitution Principle)
4. 依赖倒转原则 (Dependence Inversion Principle)
5. 接口隔离原则 (Interface Segregation Principle)
6. 迪米特法则（Law Of Demeter）
7. 组合/聚合复用原则 (Composite/Aggregate Reuse Principle)

## 开闭原则
开闭原则是最基础、最重要的设计原则，其核心思想为：
**对扩展开放，对修改关闭**，在程序需要进行拓展的时候，表示软件的实体 (类、模块、函数等等) 应该是可以被扩展的，但是不可被修改

## 单一职责原则
不要存在多于一个导致类变更的原因，也就是说每个类应该实现单一的职责，否则就应该把一个类拆分成多个类

## 里氏替换原则
任何基类可以出现的地方，派生类一定可以出现。 LSP是继承复用的基石，只有当派生类可以替换掉基类，软件单位的功能不受到影响时，基类才能真正被复用，而派生类也能够在基类的基础上增加新的行为。子类对父类的方法尽量不要重写和重载。因为父类代表了定义好的结构，通过这个规范的接口与外界交互，子类不应该随便破坏它

## 依赖倒转原则
- 高层模块不应该依赖低层模块，二者都应该依赖其抽象
- 抽象不应该依赖细节，细节应该依赖抽象
- 使用接口或抽象类的目的是制定好规范，而不涉及任何具体的操作，把展现细节的任务交给他们的实现类去完成


## 接口隔离原则
每个接口中不存在子类用不到却必须实现的方法，如果不然，就要将接口拆分。使用多个隔离的接口，比使用单个接口（多个接口方法集合到一个的接口）要好

## 迪米特法则
一个类对自己依赖的类知道的越少越好。也就是说无论被依赖的类多么复杂，都应该将逻辑封装在方法的内部，通过public方法提供给外部。这样当被依赖的类变化时，才能最小的影响该类。

最少知道原则的另一个表达方式是：只与直接的朋友通信。类之间只要有耦合关系，就叫朋友关系。耦合分为依赖、关联、聚合、组合等。我们称出现为成员变量、方法参数、方法返回值中的类为直接朋友。局部变量、临时变量则不是直接的朋友。我们要求陌生的类不要作为局部变量出现在类中

## 组合/聚合复用原则
原则尽量首先使用合成/聚合的方式，而不是使用继承